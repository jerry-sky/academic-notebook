<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jerry Sky" />
  <title>Procesor architektury x86</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Procesor architektury <code>x86</code></h1>
<p class="author">
    <span>by </span>
    <span class="author">Jerry Sky</span>
</p>
</header>
<hr />
<ul>
<li><a href="#rejestry">Rejestry</a></li>
<li><a href="#flagi-procesora">Flagi procesora</a></li>
<li><a href="#wybrane-rozkazy-procesora">Wybrane rozkazy procesora</a></li>
</ul>
<hr />
<h2 id="rejestry">Rejestry</h2>
<ol type="1">
<li>~ danych</li>
</ol>
<ul>
<li><code>EAX</code> <em>akumulator</em></li>
<li><code>EBX</code> <em>~ bazowy</em></li>
<li><code>ECX</code> <em>~ licznika</em></li>
<li><code>EDX</code> <em>~ danych</em></li>
</ul>
<ol start="2" type="1">
<li>~ adresowe</li>
</ol>
<ul>
<li><code>ESI</code> <em>~ źródła</em></li>
<li><code>EDI</code> <em>~ celu</em></li>
<li><code>EBP</code> <em>wskaźnik podstawy stosu</em></li>
<li><code>ESP</code> <em>wskaźnik szczytu stosu</em></li>
</ul>
<ol start="3" type="1">
<li>~ segmentowe</li>
</ol>
<ul>
<li><code>CS</code> <em>~ segmentu kodu</em></li>
<li><code>DS</code> <em>~ segmentu danych</em></li>
<li><code>SS</code> <em>~ segmentu stosu</em></li>
<li><code>ES</code>, <code>FS</code>, <code>GS</code> <em>~ pomocnicze segmentu danych</em></li>
</ul>
<ol start="4" type="1">
<li>~ specjalnego przeznaczenia</li>
</ol>
<ul>
<li><code>EIP</code> <em>licznik programu</em></li>
<li><code>EFLAGS</code> <em>~ stanu procesora</em></li>
</ul>
<ol start="5" type="1">
<li><p>~ mniejszych rozmiarów</p>
<p>Z ~ danych, adresowych, <code>EIP</code>, oraz <code>EFLAGS</code> można korzystać jak z rejestrów 16-bitowych <em>(rejestry takie oznacza się przez pominięcie <code>E</code>: <code>EAX</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↦</mo></mrow><annotation encoding="application/x-tex">\mapsto</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">↦</span></span></span></span> <code>AX</code></em></p>
<p>Dodatkowo, do rejestrów danych i adresowych można się odwoływać do starszego i młodszego bajtu 16-bitowego adresu, oznaczanych odpowiednio literami <code>H</code> oraz <code>L</code>.</p>
<pre><code>|               EAX                |
+----------------+-----------------+
|                |       AX        |
+----------------+--------+--------+
|                |   AH   |   AL   |
+----------------+--------+--------+</code></pre></li>
</ol>
<h2 id="flagi-procesora">Flagi procesora</h2>
<table>
<thead>
<tr class="header">
<th>bit</th>
<th>skrót</th>
<th>opis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>CF</td>
<td>flaga przeniesienia</td>
</tr>
<tr class="even">
<td>1</td>
<td>1</td>
<td>zarezerwowane</td>
</tr>
<tr class="odd">
<td>2</td>
<td>PF</td>
<td>flaga parzystości</td>
</tr>
<tr class="even">
<td>3</td>
<td>0</td>
<td>zarezerwowane</td>
</tr>
<tr class="odd">
<td>4</td>
<td>AF</td>
<td>flaga wyrównania</td>
</tr>
<tr class="even">
<td>5</td>
<td>0</td>
<td>zarezerwowane</td>
</tr>
<tr class="odd">
<td>6</td>
<td>ZF</td>
<td>flaga zera</td>
</tr>
<tr class="even">
<td>7</td>
<td>SF</td>
<td>flaga znaku</td>
</tr>
<tr class="odd">
<td>8</td>
<td>TF</td>
<td>flaga pracy krokowej</td>
</tr>
<tr class="even">
<td>9</td>
<td>IF</td>
<td>flaga przerwań</td>
</tr>
<tr class="odd">
<td>10</td>
<td>DF</td>
<td>flaga kierunku</td>
</tr>
<tr class="even">
<td>11</td>
<td>OF</td>
<td>flaga przepełnienia</td>
</tr>
<tr class="odd">
<td>12,13</td>
<td>IOPL</td>
<td>poziom uprzywilejowania <em>(tryb chroniony)</em></td>
</tr>
<tr class="even">
<td>14</td>
<td>NT</td>
<td>flaga zadania zagnieżdżonego</td>
</tr>
<tr class="odd">
<td>15</td>
<td>0</td>
<td>zarezerwowane</td>
</tr>
<tr class="even">
<td>16</td>
<td>RF</td>
<td>flaga wznowienia</td>
</tr>
<tr class="odd">
<td>17</td>
<td>VM</td>
<td>flaga trybu wirtualnego 8086</td>
</tr>
<tr class="even">
<td>18</td>
<td>AC</td>
<td>sprawdzenie wyrównania</td>
</tr>
<tr class="odd">
<td>19</td>
<td>VIF</td>
<td>flaga przerwania wirtualnego</td>
</tr>
<tr class="even">
<td>20</td>
<td>VIP</td>
<td>oczekujące przerwanie wirtualne</td>
</tr>
<tr class="odd">
<td>21</td>
<td>ID</td>
<td>identyfikacja</td>
</tr>
<tr class="even">
<td>22-31</td>
<td>0</td>
<td>zarezerwowane</td>
</tr>
</tbody>
</table>
<h2 id="wybrane-rozkazy-procesora">Wybrane rozkazy procesora</h2>
<p><code>reg</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">≡</span></span></span></span> rejestr <code>addr</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">≡</span></span></span></span> adres</p>
<ol type="1">
<li>Przesyłanie danych</li>
</ol>
<ul>
<li><code>MOV desc, src</code> <em>kopiowanie danych z <code>src</code> do <code>dest</code></em></li>
<li><code>PUSH src</code> <em>wstawienie na szczyt stosu <code>src</code></em></li>
<li><code>POP dest</code> <em>zdejmuje wartość ze stosu i wstawia do <code>dest</code></em></li>
<li><code>LEA reg, addr</code> <em>do <code>reg</code> ładuje adres <code>addr</code></em></li>
</ul>
<ol start="2" type="1">
<li>Arytmetyczne i logiczne</li>
</ol>
<ul>
<li><code>ADD dest, src</code> <em>dodawanie <code>dest</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">:=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> <code>dest</code> + <code>src</code></em></li>
<li><code>ADC dest, src</code> <em>dodawanie z przeniesieniem <code>dest</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">:=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> <code>dest</code> + <code>src</code> + <code>CF</code></em></li>
<li><code>SUB dest, src</code> <em>odejmowanie <code>dest</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">:=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> <code>dest</code> - <code>src</code></em></li>
<li><code>SBB dest, src</code> <em>odejmowanie z przeniesieniem <code>dest</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>:</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">:=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> <code>dest</code> - <code>src</code> - <code>CF</code></em></li>
<li><code>SHL dest, (const|cl)</code> <em>przesunięcie bitowe w lewo</em></li>
<li><code>SHR dest, (const|cl)</code> <em>przesunięcie bitowe w prawo</em></li>
<li><code>MUL src</code> <em>mnożenie bez znaku <code>EDX:EAX $:=$ EAX * src</code></em></li>
<li><code>IMUL src</code> <em>mnożenie ze znakiem <code>EDX:EAX $:=$ EAX * src</code></em></li>
</ul>
</body>
</html>
