<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jerry Sky" />
  <meta name="dcterms.date" content="2020-10-06" />
  <title>IEEE-754</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">
</head>
<body>
<header id="title-block-header">
<h1 class="title">IEEE-754</h1>
<p class="author">
    <span>by </span>
    <span class="author">Jerry Sky</span>
</p>
<p class="date">2020-10-06</p>
</header>
<hr />
<ul>
<li><a href="#1-reprezentacja-liczby-rzeczywistej-w-ieee-754">1. Reprezentacja liczby rzeczywistej w IEEE-754</a>
<ul>
<li><a href="#11-cecha">1.1. Cecha</a></li>
<li><a href="#12-wartości-brzegowe">1.2. Wartości brzegowe</a></li>
<li><a href="#13-przykład">1.3. Przykład</a></li>
</ul></li>
<li><a href="#2-symbole-specjalne">2. Symbole specjalne</a>
<ul>
<li><a href="#21-zera">2.1. Zera</a></li>
<li><a href="#22-nieskończoności">2.2. Nieskończoności</a></li>
<li><a href="#23-nan">2.3. <code>NaN</code></a></li>
<li><a href="#24-liczby-denormalizowane">2.4. Liczby denormalizowane</a></li>
</ul></li>
<li><a href="#3-zaokrąglenie-przykład">3. Zaokrąglenie (Przykład)</a></li>
</ul>
<hr />
<h2 id="reprezentacja-liczby-rzeczywistej-w-ieee-754">1. Reprezentacja liczby rzeczywistej w IEEE-754</h2>
<p>Liczbę rzeczywistą <span class="math inline">\(x \neq 0\)</span>, zgodnie ze standardem IEEE-754 zapiszemy: <span class="math display">\[
x = \plusmn m\cdot 2^c = \plusmn (1.f)_2 \cdot 2^c = \plusmn (1.a_1,a_2,\dots) \cdot 2^c
\]</span> gdzie - <span class="math inline">\(m \in [1; 2)\)</span>, <span class="math inline">\(f\)</span> jest częścią ułamkową mantysy, <span class="math inline">\((f)_2 &lt; 1\)</span> - <span class="math inline">\(c \in \mathbb{Z}\)</span> - <span class="math inline">\(\forall i \enspace a_i \in \{0,1\}\)</span></p>
<p>Niech - <span class="math inline">\(t-1\)</span> będzie liczbą bitów przeznaczoną na zapisanie <span class="math inline">\(f\)</span> - <span class="math inline">\(d\)</span> będzie liczbą bitów przeznaczoną na zapisanie cechy <span class="math inline">\(c\)</span> - <span class="math inline">\(c \in [-2^{d-1} + 1; 2^{d-1}]\)</span></p>
<hr />
<h3 id="cecha">1.1. Cecha</h3>
<p>Stosowany jest kod z nadmiarem w zapisie <span class="math inline">\(c\)</span>: <span class="math display">\[
c_{KN} = c + \mathrm{bias} = c + 2^{d-1} - 1
\]</span> stąd <span class="math display">\[
0 \le c_{KN} \le 2^d - 1\\
c = c_{KN} - \mathrm{bias}
\]</span></p>
<div class="figure">
<img src="format-ieee-754.png" alt="schemat formatu ieee754" />
<p class="caption">schemat formatu ieee754</p>
</div>
<hr />
<h3 id="wartości-brzegowe">1.2. Wartości brzegowe</h3>
<ul>
<li><span class="math inline">\(c_{KN}\)</span>:
<ul>
<li><span class="math inline">\(0\)</span></li>
<li><span class="math inline">\(2^d - 1\)</span></li>
</ul></li>
</ul>
<p><span class="math inline">\(1 \le c_{KN} \le 2^d - 2\)</span>, ponieważ <span class="math inline">\(c = c_{KN} - \mathrm{bias} = c_{KN} - (2^{d-1} - 1)\)</span></p>
<p>Ostatecznie rzeczywisty zakres cechy jest następujący: <span class="math display">\[
c_{\min} = -2^{d-1} + 2 \le c \le 2^{d-1} - 1 = c_{\max}
\]</span></p>
<p><span class="math inline">\(\mathrm{MIN}_{sub} = 2^{-(t-1)} \cdot 2^{c_{\min}} &lt; \mathrm{MIN}_{nor} = 2^{c_{\min}} \le |rd(x)| \le (2 - 2^{-(t-1)}) \cdot 2^{c_{\max}} = \mathrm{MAX}\)</span></p>
<hr />
<p>Niech <span class="math inline">\(x^- = m_{t-1}^- 2^c\)</span> oraz <span class="math inline">\(x^+ = m^+_{t-1} 2^c\)</span> będą sąsiadującymi liczbami maszynowymi. Wówczas: <span class="math display">\[
x^+ = (m^-_{t-1} + 2^{-(t-1)})2^c, \qquad x^- = m_{t-1}^- 2^c
\]</span> <span class="math display">\[
|x^+ - x^-| = 2^{-(t-1)}2^c = 2^{c - (t-1)}
\]</span></p>
<p><span class="math display">\[
|\delta| = \frac{|rd(x) - x|}{|x|} \le \frac{1}{2} \frac{|x^+ - x^-|}{|x|} = \frac{1}{2}\frac{2^{c-(t-1)}}{|m_x 2^c|} \le \frac{1}{2} \frac{2^{-(t-1)}}{1} = 2^{-t} = \epsilon
\]</span></p>
<table>
<colgroup>
<col width="8%" />
<col width="4%" />
<col width="4%" />
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>format</th>
<th>d</th>
<th>t</th>
<th><span class="math inline">\(\mathrm{MIN}_{sub}\)</span></th>
<th><span class="math inline">\(\mathrm{MIN}_{nor}\)</span></th>
<th><span class="math inline">\(\mathrm{MAX}\)</span></th>
<th><span class="math inline">\(\epsilon = 2^{-t}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>single</code></td>
<td><span class="math inline">\(8\)</span></td>
<td><span class="math inline">\(24\)</span></td>
<td><span class="math inline">\(1.4 \cdot 10^{-45}\)</span></td>
<td><span class="math inline">\(1.2 \cdot 10^{-38}\)</span></td>
<td><span class="math inline">\(3.4 \cdot 10^{38}\)</span></td>
<td><span class="math inline">\(5.96 \cdot 10^{-8}\)</span></td>
</tr>
<tr class="even">
<td><code>double</code></td>
<td><span class="math inline">\(11\)</span></td>
<td><span class="math inline">\(53\)</span></td>
<td><span class="math inline">\(4.9 \cdot 10^{-324}\)</span></td>
<td><span class="math inline">\(2.2 \cdot 10^{-308}\)</span></td>
<td><span class="math inline">\(1.8 \cdot 10^{308}\)</span></td>
<td><span class="math inline">\(1.11 \cdot 10^{-16}\)</span></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="przykład">1.3. Przykład</h3>
<p>Wyznacz reprezentację <span class="math inline">\(x = \frac{2}{3}\)</span> w formacie <code>single</code> (<span class="math inline">\(t-1 = 23,~ d = 8\)</span>).</p>
<p><span class="math display">\[
\frac{2}{3} = (0.10101010\dots)_2 \approx (1.0101010\dots11)_2 \cdot 2^{-1}
\]</span></p>
<p><span class="math inline">\(c = -1,~ c_{KN} = c + \mathrm{bias} = c + 127; \quad c_{KN} = 126 = (01111110)_2\)</span></p>
<p><span class="math display">\[
\frac{2}{3} \approx [0 ~|~ 01111110 ~|~ 01010101010101010101011 ]
\]</span></p>
<p><em>Julia lang</em>: <code>bitstring(Float32(2/3))</code></p>
<hr />
<h2 id="symbole-specjalne">2. Symbole specjalne</h2>
<p>(<em>w nawiasach podane są wielkości w formacie <code>single</code></em>)</p>
<h3 id="zera">2.1. Zera</h3>
<p><span class="math inline">\(c_{KN} = 0, f = 0\)</span></p>
<ul>
<li><span class="math inline">\(+0 \enspace ([0 ~|~ 00000000 ~|~ 00000000000000000000000])\)</span></li>
<li><span class="math inline">\(-0 \enspace ([1 ~|~ 00000000 ~|~ 00000000000000000000000])\)</span></li>
<li><span class="math inline">\(-0\)</span> lub <span class="math inline">\(+0\)</span> jest w szczególności skutkiem niedomiaru (<span class="math inline">\(|x| &lt; 2^{-23} \cdot 2^{-126} - \mathrm{MIN}_{sub}\)</span>)</li>
</ul>
<h3 id="nieskończoności">2.2. Nieskończoności</h3>
<ul>
<li><span class="math inline">\(+\infty ([0 ~|~ 11111111 ~|~ 00000000000000000000000])\)</span></li>
<li><span class="math inline">\(-\infty ([1 ~|~ 11111111 ~|~ 00000000000000000000000])\)</span></li>
<li><span class="math inline">\(+\infty\)</span> jeśli wystąpił nadmiar, <span class="math inline">\(x + \infty = +\infty\)</span>, <span class="math inline">\(x \cdot \infty = +\infty\)</span>, <span class="math inline">\(\frac{\infty}{x} = +\infty\)</span> dla <span class="math inline">\(x &gt; 0\)</span></li>
</ul>
<h3 id="nan">2.3. <code>NaN</code></h3>
<p>(<span class="math inline">\(c_{KN} = 255,~ f \neq 0\)</span>)</p>
<p>(<span class="math inline">\([0 ~|~ 11111111 | 10000000000000000000000]\)</span>)</p>
<p><code>NaN</code> pojawia się w sytuacjach: - <span class="math inline">\(\frac{0}{0}\)</span> - <span class="math inline">\(\infty - \infty\)</span> - <code>NaN</code> <span class="math inline">\(+ x\)</span></p>
<h3 id="liczby-denormalizowane">2.4. Liczby denormalizowane</h3>
<p><span class="math inline">\(x \in (-\mathrm{MIN}_{nor};~-\mathrm{MIN}_{sub}] \cup [\mathrm{MIN}_{sub};~ \mathrm{MIN}_{nor})\)</span></p>
<p>(<span class="math inline">\(c_{KN} = 0,~ f \neq 0\)</span>)</p>
<ul>
<li><span class="math inline">\(x = 2^{-23} \cdot 2^{-126} \quad ([0 ~|~ 00000000 ~|~ 00000000000000000000001])\)</span></li>
<li><span class="math inline">\(x = -2^{-23} \cdot 2^{-126} \quad ([1 ~|~ 00000000 ~|~ 00000000000000000000001])\)</span></li>
</ul>
<hr />
<h2 id="zaokrąglenie-przykład">3. Zaokrąglenie (Przykład)</h2>
<p>Rozważamy arytmetykę <code>single</code>.</p>
<p><span class="math display">\[
x = (1 + 2^{-24}) \cdot 2^0
\]</span></p>
<p>Sąsiednie liczby maszynowe - <span class="math inline">\(x^- = 1\)</span> - <span class="math inline">\(x^+ = (1 + 2^{-23}) \cdot 2^0\)</span> - <span class="math inline">\(x \in (x^-;~ x^+)\)</span> - <span class="math inline">\(|x^+ - x^-| = 2^{-23}\)</span> - <span class="math inline">\(|x^+ - x| = 2^{-24}\)</span> - <span class="math inline">\(|x - x^-| = 2^{-24}\)</span></p>
<p><span class="math display">\[
\begin{aligned}
    x^- &amp; = 1 \cdot 2^0 \quad ([0 ~|~ 01111111 ~|~ 00000000000000000000000])\\
    x &amp; = (1 + 2^{-24}) \cdot 2^0 \quad ([0 ~|~ 01111111 ~|~ 00000000000000000000000 ~|~ \bold{1}00 \dots])\\
    x^+ &amp; = (1 + 2^{-23}) \cdot 2^0 \quad ([0 ~|~ 01111111 ~|~ 0000000000000000000000\bold{1}])
\end{aligned}
\]</span></p>
<p><span class="math inline">\(rd(x) = x^- = 1\)</span></p>
<hr />
</body>
</html>
