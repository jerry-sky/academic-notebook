<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title></title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">
</head>
<body>
<h1 id="języki">Języki</h1>
<p><em>(2020-10-26)</em></p>
<ul>
<li><a href="#1-słowa-języki">1. Słowa, języki</a>
<ul>
<li><a href="#11-przykład">1.1. Przykład</a></li>
<li><a href="#12-przykład">1.2. Przykład</a></li>
<li><a href="#13-przykład">1.3. Przykład</a></li>
<li><a href="#14-przykład">1.4. Przykład</a></li>
</ul></li>
<li><a href="#2-wzorce-ukryte">2. Wzorce ukryte</a>
<ul>
<li><a href="#21-przykład">2.1. Przykład</a>
<ul>
<li><a href="#211-złe-rozwiązanie">2.1.1. <strong>Złe</strong> rozwiązanie</a></li>
<li><a href="#212-dobre-rozwiązanie">2.1.2. <strong>Dobre</strong> rozwiązanie</a></li>
</ul></li>
</ul></li>
<li><a href="#3-automaty-skończone">3. Automaty skończone</a>
<ul>
<li><a href="#31-przykład">3.1. Przykład</a></li>
</ul></li>
<li><a href="#4-wzorce-blokowe">4. Wzorce blokowe</a>
<ul>
<li><a href="#41-zgodność-prefiksowo-sufiksowa">4.1. Zgodność prefiksowo-sufiksowa</a></li>
<li><a href="#42-ciągi-długości-n-z-wzorcem-overlinep">4.2. Ciągi długości <span class="math inline">\(n\)</span> z wzorcem <span class="math inline">\(\overline{p}\)</span></a></li>
</ul></li>
</ul>
<hr />
<h2 id="słowa-języki">1. Słowa, języki</h2>
<p>Mamy <span class="math inline">\(\mathcal{A} = (\left\{ a_1, a_2, \dots, a_m \right\}, |\cdot|)\)</span>, gdzie <span class="math inline">\(\forall i \enspace |a_i| = 1\)</span>.</p>
<p>Wówczas <span class="math inline">\(\mathcal{W} = \operatorname{SEQ}(\mathcal{A})\)</span><br />
oraz <span class="math inline">\(W(z) = \frac{1}{1 - mz}\)</span>, bo <span class="math inline">\(A(z) = m\cdot z\)</span>.</p>
<hr />
<h3 id="przykład">1.1. Przykład</h3>
<p><em>Ile jest słów długości <span class="math inline">\(n\)</span> takich, że </em>nie ma* <span class="math inline">\(k\)</span> liter <span class="math inline">\(a\)</span> z rzędu?*<br />
<span class="math inline">\(n=4,~ k=2 \qquad bbbb \quad abbb \quad abab \quad baba \quad \dots\)</span></p>
<ul>
<li><span class="math inline">\(\mathcal{L} \cong a^{&lt;k} \operatorname{SEQ}(b \cdot a^{&lt;k})\)</span></li>
<li><span class="math inline">\(a^{&lt;k} = \epsilon, a, aa, aaa, \dots, \underbrace{a\dots a}_{k-1}\)</span></li>
<li><span class="math inline">\(a^{&lt;k}(z) = \frac{1 - z^k}{1-z}\)</span></li>
<li><span class="math inline">\(b\cdot a^{&lt;k}(z) = \frac{z(1 - z^k)}{1-z}\)</span></li>
<li><span class="math inline">\(L(z) = \frac{1 - z^k}{1-z} \cdot \frac{1}{1 - \frac{z\cdot(1-z^k)}{1-z}} = \frac{1-z^k}{1 - 2z + z^{k-1}}\)</span></li>
</ul>
<hr />
<h3 id="przykład-1">1.2. Przykład</h3>
<p><em>Co, gdy chcemy policzyć, ile jest słów takich, że jest co najwyżej <span class="math inline">\(k\)</span> liter <span class="math inline">\(a\)</span> oraz <span class="math inline">\(b\)</span> z rzędu.</em></p>
<ul>
<li><span class="math inline">\(\mathcal{W}^{(k,k)} \cong \operatorname{SEQ}_{\le k}(b) \cdot \operatorname{SEQ}(a \cdot \operatorname{SEQ}_{&lt;k}(a) \cdot b \cdot \operatorname{SEQ}_{&lt;k}(b)) \cdot \operatorname{SEQ}_{\le k}(a)\)</span></li>
<li><span class="math inline">\(W^{(k,k)}(z) = \left( \frac{1 - z^{k+1}}{1-z} \right)^2 \cdot \left( \frac{1}{1 - \frac{z^2}{\left( 1 - \left( \frac{1 - z^k}{1-z} \right) \right)^2}} \right)\)</span></li>
<li>jeżeli chcemy policzyć, ile jest ciągów, w których mamy dokładnie <span class="math inline">\(k\)</span>-literowych podciągów naszych liter robimy: <span class="math inline">\(W^{(k,k)}_n - W^{(k - 1, k - 1)}_n\)</span></li>
</ul>
<hr />
<h3 id="przykład-2">1.3. Przykład</h3>
<p><em>Ile jest słów nad <span class="math inline">\(\{a,b\}\)</span> długości <span class="math inline">\(n\)</span> takich, że jest dokładnie <span class="math inline">\(k\)</span> wystąpień litery (symbolu) «<span class="math inline">\(b\)</span>»?</em></p>
<p>Standardowo, oczywiście <span class="math inline">\(\binom{n}{k}\)</span> jako, że wybieramy z <span class="math inline">\(n\)</span> miejsc <span class="math inline">\(k\)</span> miejsc, na których stawiamy litery (symbole) «<span class="math inline">\(b\)</span>».</p>
<p>Ale popatrzmy na to zadanie w nieco inny sposób.</p>
<p>Mamy <span class="math display">\[
\underbrace{a\dots a}_{0–\infty}\, \overset{1}{b}\, \underbrace{a\dots a}_{0–\infty}\, \overset{2}{b}\, \underbrace{a\dots a}_{0–\infty}\, \overset{3}{b}\, \dots \overset{k}{b}\, \underbrace{a\dots a}_{0–\infty}
\]</span></p>
<p>Czyli mamy <span class="math display">\[
\operatorname{SEQ}(\{a\}) \enspace \{b\} \enspace \operatorname{SEQ}(\{a\}) \enspace \{b\} \enspace \operatorname{SEQ}(\{a\}) \{b\} \dots \{b\} \operatorname{SEQ}(\{a\})
\]</span></p>
<p>Ostatecznie mamy język określony przez klasę kombinatoryczną: <span class="math display">\[
\mathcal{L} \cong (\operatorname{SEQ}(\{a\}))^{k+1} (\{b\})^k,\\
L(z) = \left( \frac{1}{1-z} \right)^{k+1} \cdot z^k.
\]</span></p>
<hr />
<h3 id="przykład-3">1.4. Przykład</h3>
<p><em>Ile jest ciągów nad alfabetem <span class="math inline">\(\{a,b\}\)</span> takich, że jest <span class="math inline">\(k\)</span> liter «<span class="math inline">\(b\)</span>» oraz odległość każdego «<span class="math inline">\(b\)</span>» od swojego poprzednika to co najwyżej <span class="math inline">\(d\)</span>?</em></p>
<p>Popatrzmy na przykład słowa należącego do takiego języka. Weźmy <span class="math inline">\(k=3, d=3\)</span>: <span class="math display">\[
aaaaaaaaaaaaa\, b\, a\, b\, aaa\, b\, aaaaaaaa
\]</span></p>
<p>Jesteśmy w stanie określić klasę kombinatoryczną: <span class="math display">\[
\mathcal{L} \cong \operatorname{SEQ}(\{a\})\, \{b\}\, \operatorname{SEQ}_{\le d}(\{a\})\, \{b\}\, \operatorname{SEQ}_{\le d}(\{a\})\, \dots\, \{b\}\, \operatorname{SEQ}(\{a\})
\]</span></p>
<p>Wówczas OGF: <span class="math display">\[
L(z) = \left( \frac{1}{1-z} \right)^2 \cdot z^k \cdot \left( 1 + z + z^2 + \dots + z^d \right)^{k-1} =\\
= \left( \frac{1}{1-z} \right)^2 \cdot z^k \cdot \left( \frac{1 - z^{d-1}}{1-z} \right)^{k-1} =\\
= \frac{z^k\left( 1 - z^{d-1} \right)^{k-1}}{(1-z)^{k-1}}
\]</span></p>
<p>Podzielmy na części OGF: <span class="math display">\[
A_1(z) = \frac{z^k}{(1-z)^{k+1}} = \sum_{n\ge0} a^{(1)}_n z^n\\
A_2(z) = \left( 1-z^{d+1} \right)^{k-1} = \sum_{n\ge0} a^{(2)}_n z^n
\]</span></p>
<p>Czyli <span class="math inline">\(L(z) = A_1(z) A_2(z)\)</span>, wówczas: <span class="math display">\[
l_n = \sum_{k=0}^n a^{(1)}_k \cdot a^{(2)}_{n-k}
\]</span></p>
<hr />
<h2 id="wzorce-ukryte">2. Wzorce ukryte</h2>
<p>Mamy pewny ciąg liter, który ma w sobie ukryte dane słowo.</p>
<p>Np. mamy tekst:</p>
<p><em><strong>Kom</strong>u <strong>bi</strong>je dzwo<strong>n</strong></em><br />
<em><strong>A</strong> <strong>t</strong>ego <strong>r</strong>aczej nie wiem.</em><br />
<em>B<strong>y</strong>ć może <strong>ka</strong>żdemu.</em></p>
<p>I ukryte słowo «<em>kombinatoryka</em>».</p>
<h3 id="przykład-4">2.1. Przykład</h3>
<p><em>Ile jest słów nad alfabetem <span class="math inline">\(\mathcal{A}\)</span> (mamy <span class="math inline">\(m\)</span> symboli), które zawierają ukryty wzorzec ze słowem «kombinatoryka»?</em></p>
<h4 id="złe-rozwiązanie">2.1.1. <strong>Złe</strong> rozwiązanie</h4>
<p><span class="math display">\[
B \cong \operatorname{SEQ}(\mathcal{A})\, \{k\}\, \operatorname{SEQ}(\mathcal{A})\, \{o\}\, \dots\, \operatorname{SEQ}(\mathcal{A})
\]</span></p>
<p>Wówczas OGF: <span class="math display">\[
B(z) = \frac{z^{13}}{(1 - mz)^{14}}.
\]</span></p>
<h4 id="dobre-rozwiązanie">2.1.2. <strong>Dobre</strong> rozwiązanie</h4>
<p>Naszą klasę trzeba nieco zmodyfikować: <span class="math display">\[
\operatorname{SEQ}(\mathcal{A} \setminus \{k\})\, \{k\}\, \operatorname{SEQ}(\mathcal{A} \setminus \{o\})\, \{o\}\, \dots\, \operatorname{SEQ}(\mathcal{A} \setminus \{a\})\, \{a\}\, \operatorname{SEQ}(\mathcal{A})
\]</span></p>
<p>Czyli OGF wynosi: <span class="math display">\[
B(z) = \frac{z^{13}}{\left( 1 - (m-1)z \right)^{13}} \cdot \frac{1}{1-mz}
\]</span></p>
<hr />
<h2 id="automaty-skończone">3. Automaty skończone</h2>
<h3 id="przykład-5">3.1. Przykład</h3>
<p><em>Czy słowo zawiera ciąg <span class="math inline">\(abb\)</span>?</em> (<span class="math inline">\(\mathcal{A} = \{a,b\}\)</span>)</p>
<div class="figure">
<img src="automaty-skończone-przykład-1.png" />

</div>
<p><span class="math inline">\(\mathcal{L}_i\)</span> — klasa słów akceptowanych przez powyższy automat jeśli zaczynamy ze stanu <span class="math inline">\(i\)</span>.</p>
<ul>
<li><span class="math inline">\(\mathcal{L}_3 = \mathcal{E} + a \mathcal{L}_3 + b \mathcal{L}_3\)</span></li>
<li><span class="math inline">\(\mathcal{L}_2 = b\mathcal{L}_3 + a\mathcal{L}_1\)</span></li>
<li><span class="math inline">\(\mathcal{L}_1 = a\mathcal{L}_1 + b\mathcal{L}_2\)</span></li>
<li><span class="math inline">\(\mathcal{L}_0 = a\mathcal{L}_1 + b\mathcal{L}_0\)</span></li>
</ul>
<p>Czyli: - <span class="math inline">\(L_0(z) = zL_1(z) = zL_0(z)\)</span> - <span class="math inline">\(L_1(z) = zL_1(z) + zL_2(z)\)</span> - <span class="math inline">\(L_2(z) = zL_1(z) + zL_3(z)\)</span> - <span class="math inline">\(L_3(z) = zL_3(z) + zL_3(z) + 1\)</span></p>
<p>a po rozwiązaniu układu równań: <span class="math display">\[
L_0(z) = \frac{z^3}{(1-z)(1-2z)(1-z-z^2)} \overset{\operatorname{Apart}}{=}\\
= \frac{1}{1-2z} - \frac{2+z}{1-z-z^2} + \frac{1}{1-z}
\]</span></p>
<p>Liczymy współczynnik: <span class="math display">\[
[z^n]L_0(z) = 2^n - F_{n+3} + 1
\]</span></p>
<hr />
<h2 id="wzorce-blokowe">4. Wzorce blokowe</h2>
<p>Tym razem, w odróżnieniu od <a href="#2-wzorce-ukryte">wzorców ukrytych</a>, musimy mieć w tekście dany blok liter koło siebie, w odpowiedniej kolejności.</p>
<p>Np. <em>Dobry ptero<strong>daktyl</strong> jest!</em> ma w sobie wzorzec blokowy «daktyl».</p>
<h3 id="zgodność-prefiksowo-sufiksowa">4.1. Zgodność prefiksowo-sufiksowa</h3>
<p>Określamy ciąg <span class="math inline">\(c = (c_0, c_1, \dots, c_{k-1})\)</span> oraz liczby <span class="math inline">\(c_i = \llbracket p_1 p_2 \dots p_{k-i} = p_{i+1} \dots p_k \rrbracket\)</span> gdzie <span class="math inline">\(\llbracket \cdot \rrbracket\)</span> jest notacją Iversona. Czyli porównujemy końcówki z początkami danego słowa. Ciąg <span class="math inline">\(c\)</span> nazywamy *ciągiem charakterystycznym dla słowa <span class="math inline">\(\overline{p}\)</span>.</p>
<p>Np. weźmy <span class="math inline">\(aabbaa\)</span> — jego ciągiem charakterystycznym jest <span class="math inline">\(c = (c_0, c_1, \dots, c_{k-1}) = (1,0,0,0,1,1)\)</span> bo tylko dwie literki <span class="math inline">\(aa\)</span> na początku i na końcu czynią zadość równości.</p>
<p>Określamy również wielomian charakterystyczny: <span class="math display">\[
C(z) = \sum_{j=0}^{k-1} c_j z^j
\]</span> i znowu dla <span class="math inline">\(aabbaa\)</span> będzie to po prostu <span class="math inline">\(C(z) = 1 + z^4 + z^5\)</span>.</p>
<hr />
<h3 id="ciągi-długości-n-z-wzorcem-overlinep">4.2. Ciągi długości <span class="math inline">\(n\)</span> z wzorcem <span class="math inline">\(\overline{p}\)</span></h3>
<p><em>Ile jest ciągów długości <span class="math inline">\(n\)</span> nad alfabetem <span class="math inline">\(\mathcal{A}\)</span>, które zawierają wzorzec blokowy <span class="math inline">\(\overline{p}\)</span>?</em></p>
<p>Mamy: - alfabet <span class="math inline">\(\mathcal{A}\)</span> o <span class="math inline">\(m\)</span> literach - wzorzec <span class="math inline">\(\overline{p} = p_1 p_2 \dots p_k\)</span></p>
<p>Szukamy języka (klasy) słów zawierających blok <span class="math inline">\(\overline{p}\)</span>.</p>
<p>Weźmy - <span class="math inline">\(\mathcal{S}\)</span> — słowa bez bloku <span class="math inline">\(\overline{p}\)</span> - <span class="math inline">\(\mathcal{T}\)</span> — słowa, które mają na końcu <span class="math inline">\(\overline{p}\)</span>, ale nie mają innego wystąpienia <span class="math inline">\(\overline{p}\)</span></p>
<p>Wówczas <span class="math display">\[
\mathcal{S} + \mathcal{T} \cong \{\epsilon\} + \mathcal{S} \times \mathcal{A}
\]</span> ponieważ możemy wziąć takie słowo, które nie ma na pewno na końcu <span class="math inline">\(\overline{p}\)</span> albo wziąć takie, któremu brakuje jednej literki i tutaj wystarczy dokleić jedną literkę z alfabetu <span class="math inline">\(\mathcal{A}\)</span>.</p>
<p>Dodatkowo <span class="math display">\[
\mathcal{S} * \overline{p} \cong \mathcal{T} * \sum_{\forall i\enspace c_i \neq 0} \left\{ p_{k-i+1}, \dots, p_k \right\}
\]</span> (<span class="math inline">\(*\)</span> to konkatenacja)<br />
a to dlatego, że w <span class="math inline">\(\mathcal{T}\)</span> będzie końcówka, która będzie się zgadzać z początkiem tego wzorca:<br />
<img src="prefiksy-sufiksy-zgodność-przykład.png" /></p>
<p>Z powyższych własności mamy: <span class="math display">\[
S(z) + T(z) = 1 + S(z) \cdot mz
\]</span> oraz <span class="math display">\[
S(z) \cdot z^k = T(z) \cdot C(z)
\]</span> co daje nam <span class="math display">\[
S(z) = \frac{C(z)}{z^k + (1 - mz) \cdot C(z)}
\]</span></p>
<hr />
</body>
</html>
