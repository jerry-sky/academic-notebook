<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jerry Sky" />
  <title>Lista-5</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lista-5</h1>
<p class="author">
    <span>by </span>
    <span class="author">Jerry Sky</span>
</p>
</header>
<hr />
<blockquote>
<p>Program powinien czytać pięć argumentów w linii poleceń: obraz wejściowy, obraz wyjściowy, liczba bitów na czerwień, liczba bitów na zieleń i liczba bitów na niebieski (liczba bitów między <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span> - układ RGB).</p>
<p>Przykładowe wywołanie programu powinno wyglądać następująco:</p>
<pre><code>mgc@topaz:~$ ./kwantyzacja mg.tga mg332.tga 3 3 2
mse =174.173323
mse(r)=86.167312
mse(g)=87.994938
mse(b)=348.357719
SNR =74.038005 (18.694547dB)
SNR(r)=171.797505 (22.350169dB)
SNR(g)=152.415938 (21.830304dB)
SNR(b)=30.058687 (14.779700dB)</code></pre>
<p><strong>Ocena 4</strong> Popraw program z poprzedniego punktu zamieniając ostatnie 3 argumenty na jeden oznaczający liczbę bitów na piksel, program sam powinien dobrać podział tych bitów na poszczególne kolory. Kryterium według którego powinien nastąpić podział powinien być podany jako czwarty argument: SNR – maksymalizacja minimalnego SNR dla poszczególnych kolorów, lub MSE – minimalizacja maksymalnego błędu średniokwadratowego dla poszczególnych kolorów. Oprócz danych jak w poprzednim punkcie program powinien wypisać jakiego podziału bitów dokonał.</p>
<p><strong>Ocena 5</strong> Napisz program który dla nieskompresowanego obrazu zapisanego w formacie TGA policzy obraz uzyskany w wyniku kwantyzacji wektorowej kolorów. Program powinien dodatkowo wypisać błąd średniokwadratowy dla całego obrazu oraz stosunek sygnału do szumu. Do uzyskania wymaganej liczby kolorów należy użyć algorytmu Linndego-Buza-Graya (dla uproszczenia implementacji do mierzenia odległości między kolorami można użyć metryki taksówkowej).</p>
<p>Program powinien czytać trzy argumenty w linii poleceń: obraz wejściowy, obraz wyjściowy, liczba kolorów (między 0 a 24, liczba kolorów to dwójkowa potęga podanej liczby). <em>(Program nie musi w obrazku wyjściowym kodować mapy kolorów, może wstawić wybrane kolory bezpośrednio do obrazka.)</em></p>
</blockquote>
<p>Program kwantyzujący obrazek i obliczający jego błędy w porównaniu z obrazkiem wejściowym. Wybiera na podstawie błędów najlepszy rozkład bitów dla poszczególnych kolorów. (na ocenę 4)</p>
<h2 id="uruchomienie-programu">Uruchomienie programu</h2>
<p>W celu uruchomienia programu należy wykonać <code>./main.py &lt;input file&gt; &lt;output file&gt; &lt;bit depth (bits per pixel)&gt; &lt;bit spread measure: MSE|SNR&gt;</code> wpisawszy odpowiednie opcje.</p>
<p>Czas trwania programu może być dość długi, zwłaszcza przy dużej liczbie bitów, ponieważ program musi rozważyć wszystkie możliwe rozstawienia bitów dla poszczególnych kolorów.</p>
<p>Na standardowe wyjście błędów wypisywane są kolejno znalezione lepsze ustawienia liczby bitów na każdy z poszczególnych kolorów. Jeśli jest taka potrzeba, oczywiście można standardowe wyjście błędów przekierować na <code>/dev/null</code>, celem otrzymania mniejszej liczby linijek wyjścia programu.</p>
<p>Program wymaga zainstalowanego <code>python3</code> do uruchomienia.</p>
<h2 id="pliki-programu">Pliki programu</h2>
<p>Plik <code>main.py</code> jest plikiem wykonywalnym, wymagającym <code>python3</code> do uruchomienia. Zawiera główną logikę programu – kwantyzacja obrazka oraz szukanie najlepszego rozkładu bitów.</p>
<p>W pliku <code>errors.py</code> zawarta jest klasa pomocnicza używana do zliczania MSE oraz SNR.</p>
</body>
</html>
