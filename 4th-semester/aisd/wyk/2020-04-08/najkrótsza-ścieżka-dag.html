<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jerry Sky" />
  <meta name="dcterms.date" content="2020-04-08" />
  <title>Najkrótsza ścieżka w DAG</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500&display=swap" rel="stylesheet">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Najkrótsza ścieżka w DAG</h1>
<p class="author">
    <span>by </span>
    <span class="author">Jerry Sky</span>
</p>
<p class="date">2020-04-08</p>
</header>
<hr />
<ul>
<li><a href="#problem">Problem</a></li>
<li><a href="#input">Input</a></li>
<li><a href="#output">Output</a></li>
<li><a href="#remarks">Remarks</a></li>
<li><a href="#pseudocode">Pseudocode</a></li>
<li><a href="#summary">Summary</a></li>
</ul>
<hr />
<h2 id="problem">Problem</h2>
<p>Znalezienie najkrótszej ścieżki w skierowanym grafie acyklicznym (<a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">DAG</a>).</p>
<h2 id="input">Input</h2>
<p>Graf <span class="math inline">\(G = (V,E,c)\)</span>, gdzie: - <span class="math inline">\(V\)</span> to zbiór wierzchołków grafu - <span class="math inline">\(E\)</span> to zbiór krawędzi grafu - <span class="math inline">\(c: E \to \reals\)</span> to funkcja wagi krawędzi - <span class="math inline">\(v_s \in V\)</span> to wierzchołek startowy (<span class="math inline">\(\mathrm{root}\)</span>)</p>
<h2 id="output">Output</h2>
<p>Dla ustalonego wierzchołka startowego <span class="math inline">\(v_s \in V\)</span> długość najkrótszej ścieżki do wszystkich wierzchołków <span class="math inline">\(v_i \in V\)</span> oznaczana przez <span class="math inline">\(d(v_s, v_i)\)</span></p>
<h2 id="remarks">Remarks</h2>
<ul>
<li><p>Ważną własnością grafu DAG jest możliwość jego <em>„linearyzacji”</em>, czyli ustawienia wierzchołków w takiej kolejności <span class="math inline">\((v_1, v_2,\dots,v_n)\)</span>, że krawędzie będą zawsze skierowane od wcześniejszych wierzchołków do późniejszych <span class="math inline">\(\forall(v_i, v_j) \in E: i&lt;j\)</span>.<br />
<img src="dag-topological-ordering.png" alt="example dag" /><br />
Dzięki tej własności chcąc policzyć długość najkrótszej ścieżki od wierzchołka startowego <span class="math inline">\(v_s\)</span> do zadanego wierzchołka <span class="math inline">\(v_j\)</span> wystarczy użyć wcześniej obliczonych <span class="math inline">\(d(v_s, v_i)\)</span> dla każdego wierzchołka <span class="math inline">\((v_i, v_j) \in E\)</span>: <span class="math display">\[
d(v_s, v_j) = \min\{d(v_s,v_i) + c(v_i,v_j): (v_i,v_j) \in E\}
\]</span></p></li>
<li><p>Zauważmy, że każdy wierzchołek odpowiada pod-problemowi, więc jeśli rozwiążemy te pod-problemy od najmniejszych do największych (od pierwszych w ustalonej kolejności do ostatnich) zapamiętując i wykorzystując ich rozwiązania to otrzymamy rozwiązanie problemu znalezienia najkrótszych dróg w DAG.</p></li>
</ul>
<h2 id="pseudocode">Pseudocode</h2>
<pre><code>for each v in V:
  d(v_s, v) = Infinity
d(v_s, v_s) = 0

for each v in V \ {v_s} in linearized order:
  d(v_s, v) = min{ d(v_s, u) + c(u, v): (u,v) in E }</code></pre>
<ul>
<li>Złoż. obli. takiego algorytmu to <span class="math inline">\(O(|E|)\)</span>, ponieważ w pętli musimy sprawdzić koszty powstałe dla każdej krawędzi w grafie.</li>
<li>Zapamiętując dla każdego wierzchołka nie tylko najkrótszą odległość do niego, ale również z którego sąsiada do niego powinniśmy dojść (czyli dla jakiego <span class="math inline">\(u\)</span> osiągamy <span class="math inline">\(\min\{d(v_s, u) + c(u,v): (u,v) \in E\}\)</span>) możemy odtworzyć najkrótsze ścieżki w zadanym grafie.</li>
</ul>
<h2 id="summary">Summary</h2>
<p>Problem obliczania najkrótszych ścieżek w <strong>DAG leży u podstawy wszystkich</strong> algorytmów stworzonych przy użyciu metodologii programowania dynamicznego, ale <strong>na ogół DAG nie jest zadany explicite i jednym z zadań jest poprawne go zdefiniowanie.</strong></p>
</body>
</html>
